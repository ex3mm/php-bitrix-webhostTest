
; /* Start:"a:4:{s:4:"full";s:87:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js?16566380791370";s:6:"source";s:68:"/bitrix/components/bitrix/landing.start/templates/.default/script.js";s:3:"min";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js";s:3:"map";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing");BX.Landing.PaymentAlert=function(n){if(typeof n.nodes==="undefined"){return}for(var t=0,e=n.nodes.length;t<e;t++){BX.bind(n.nodes[t],"click",function(t){BX.Landing.PaymentAlertShow(n);BX.PreventDefault(t)})}};BX.Landing.PaymentAlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:BX.message("LANDING_TPL_JS_PAY_TARIFF_TITLE"),content:'<div class="landing-payrate-popup-content"><span class="landing-payrate-popup-text">'+n.message+"</span></div>",confirm:BX.message("LANDING_TPL_JS_PAY_TARIFF"),contentColor:"grey",type:n.type||null});e.then(function(){top.window.location.href="/settings/license_all.php"},function(){})};BX.Landing.AlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:null,content:n.message,contentColor:"grey",type:n.type||null});e.then(function(){top.window.location.href="/settings/license_all.php"},function(){})};BX.ready(function(){var n=document.querySelectorAll(".bitrix24-metrika");if(!n){return}if(typeof BX.Landing.Metrika==="undefined"){return}var t=new BX.Landing.Metrika(true);for(var e=0,i=n.length;e<i;e++){BX.bind(n[e],"click",function(n){t.sendLabel(null,BX.data(this,"metrika24"),BX.data(this,"metrika24value"))}.bind(n[e]))}})})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:86:"/bitrix/components/bitrix/landing.demo/templates/.default/script.min.js?16566380792526";s:6:"source";s:67:"/bitrix/components/bitrix/landing.demo/templates/.default/script.js";s:3:"min";s:71:"/bitrix/components/bitrix/landing.demo/templates/.default/script.min.js";s:3:"map";s:71:"/bitrix/components/bitrix/landing.demo/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing.Component");BX.Landing.Component.Demo=function(e){this.wrapper=e.wrapper;this.inner=e.inner;this.tiles=e.tiles;this.isShow=false;this.startHeight=0;this.innerBlock=null;this.handleMouseEnter=this.handleMouseEnter.bind(this);this.handleMouseLeave=this.handleMouseLeave.bind(this);this.createTileList();this.bindTitle();top.BX.addCustomEvent(top,"Rest:AppLayout:ApplicationInstall",BX.delegate(this.appInstall,this))};BX.Landing.Component.Demo.prototype={createTileList:function(){new BX.Landing.TileGrid({wrapper:this.wrapper,inner:this.inner,tiles:this.tiles,sizeSettings:{minWidth:250,maxWidth:281}})},handleMouseEnter:function(e){this.showTitle(e)},handleMouseLeave:function(e){this.hideTitle(e)},bindTitle:function(){this.tiles.forEach(function(e){var i=e.querySelector(".landing-item-desc-open");if(i){BX.bind(i,"click",function(i){i.preventDefault();this.handleMouseEnter(e)}.bind(this));BX.bind(e,"mouseleave",function(i){this.handleMouseLeave(e)}.bind(this))}},this)},showTitle:function(e){this.innerBlock=e.querySelector(".landing-item-desc-inner");var i=e.querySelector(".landing-item-desc-height");e.classList.add("landing-tile-title-show");this.startHeight=BX.style(this.innerBlock,"height");this.innerBlock.style.height=i.offsetHeight+"px";this.isShow=true},hideTitle:function(e){if(this.isShow){this.innerBlock.style.height=this.startHeight;setTimeout(function(){e.classList.remove("landing-tile-title-show");this.innerBlock.style.paddingTop=0;this.innerBlock.style.marginBottom=0}.bind(this),230);this.isShow=false}},appInstall:function(e){window.location.reload()}}})();BX.ready(function(){var e=BX("grid-tile-wrap");if(!e){return}var i=[].slice.call(document.querySelectorAll(".landing-template-pseudo-link"));i.forEach(function(e){if(!BX.hasClass(e,"landing-item-payment")){BX.bind(e,"click",function(i){if(i.target.classList.contains("landing-item-desc-open")||i.target.classList.contains("landing-item-designed")){return}var t=i.currentTarget.dataset.href;BX.SidePanel.Instance.open(t,{allowChangeHistory:false,width:BX.data(e,"slider-width")?parseInt(BX.data(e,"slider-width")):null,data:{rightBoundary:0},events:{onClose:function(e){var i=t.split("?")[0];var n=e.slider.iframeSrc.split("?")[0];if(i!==n&&t.indexOf("frameMode=Y")<0){top.location.reload()}}}})})}});var t=Array.prototype.slice.call(e.getElementsByClassName("landing-item"));new BX.Landing.Component.Demo({wrapper:e,inner:BX("grid-tile-inner"),tiles:t})});
/* End */
;
; /* Start:"a:4:{s:4:"full";s:87:"/bitrix/components/bitrix/landing.sites/templates/.default/script.min.js?16566380793615";s:6:"source";s:68:"/bitrix/components/bitrix/landing.sites/templates/.default/script.js";s:3:"min";s:72:"/bitrix/components/bitrix/landing.sites/templates/.default/script.min.js";s:3:"map";s:72:"/bitrix/components/bitrix/landing.sites/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing.TileGrid");BX.Landing.TileGrid=function(i){this.transferPopup="";if(typeof i==="object"){this.siteType=i.siteType;this.wrapper=i.wrapper;this.inner=i.inner;this.tiles=i.tiles;this.minTileWidth=0;this.maxTileWidth=0;this.tileRowLength=0;if(i.sizeSettings){this.minTileWidth=i.sizeSettings.minWidth;this.maxTileWidth=i.sizeSettings.maxWidth}else if(i.tileRowLength){this.tileRowLength=i.tileRowLength}else{this.minTileWidth=250;this.maxTileWidth=350}this.tileRatio=i.tileRatio||1.48;this.maxTileHeight=this.maxTileWidth/this.tileRatio;this.setTileWidth();BX.bind(window,"resize",this.setTileWidth.bind(this));requestAnimationFrame(function(){this.wrapper.classList.add("landing-ui-show")}.bind(this))}};BX.Landing.TileGrid.prototype={setTileWidth:function(){var i=this.getTileCalculating();var e=i.width;var t=i.height;if(this.minTileWidth){e=e<=this.maxTileWidth?i.width:this.maxTileWidth;t=t<=this.maxTileHeight?i.height:this.maxTileHeight}requestAnimationFrame(function(){for(var s=0;s<this.tiles.length;s++){this.tiles[s].style.width=e+"px";this.tiles[s].style.height=t+"px";this.tiles[s].style.marginLeft=i.margin+"px";this.tiles[s].style.marginTop=i.margin+"px"}this.inner.style.marginLeft=i.margin*-1+"px";this.inner.style.marginTop=i.margin*-1+7+"px"}.bind(this))},getTileCalculating:function(){var i=this.wrapper.clientWidth-12;var e=i/100*6;var t=0,s=0;if(this.tileRowLength){s=this.tileRowLength;t=(i-e)/this.tileRowLength}else{t=this.minTileWidth;s=(i-e)/t;if(s>this.tiles.length){t=(i-e)/this.tiles.length;t=t>this.maxTileWidth?this.maxTileWidth:t}else if(s-Math.floor(s)>0){s=Math.floor(s);t=(i-e)/s}}return{width:t,margin:e/(s-1),height:t/this.tileRatio}},action:function(i,e,t,s){var n=BX.create("div",{attrs:{className:"landing-filter-loading-container"}});document.body.appendChild(n);var r=new BX.Loader({size:130,color:"#bfc3c8"});r.show(n);BX.ajax({url:BX.util.add_url_param(window.location.href,{action:i}),method:"POST",data:{data:e,sessid:BX.message("bitrix_sessid"),actionType:"rest",componentName:typeof s!=="undefined"?s:null},dataType:"json",onsuccess:function(i){r.hide();n.classList.add("landing-filter-loading-hide");if(typeof i.type!=="undefined"&&typeof i.result!=="undefined"){if(i.type==="error"){var e=BX.Landing.UI.Tool.ActionDialog.getInstance();if(i.error_type==="payment"&&(i.result[0].error==="PUBLIC_SITE_REACHED"||i.result[0].error==="TOTAL_SITE_REACHED"||i.result[0].error==="PUBLIC_PAGE_REACHED"||i.result[0].error==="PUBLIC_SITE_REACHED_FREE")){if(i.result[0].error==="PUBLIC_PAGE_REACHED"){top.BX.UI.InfoHelper.show("limit_sites_number_page")}else if(i.result[0].error==="PUBLIC_SITE_REACHED_FREE"){top.BX.UI.InfoHelper.show("limit_sites_free")}else{if(this.siteType==="STORE"){top.BX.UI.InfoHelper.show("limit_shop_number")}else if(this.siteType==="KNOWLEDGE"){top.BX.UI.InfoHelper.show("limit_knowledge_base_number_page")}else{top.BX.UI.InfoHelper.show("limit_sites_number")}}}else if(i.result[0].error==="FREE_DOMAIN_IS_NOT_ALLOWED"){top.BX.UI.InfoHelper.show("limit_free_domen")}else if(i.result[0].error==="EMAIL_NOT_CONFIRMED"){top.BX.UI.InfoHelper.show("limit_sites_confirm_email")}else if(typeof BX.Landing.PaymentAlertShow!=="undefined"&&i.error_type==="payment"){BX.Landing.PaymentAlertShow({message:i.result[0].error_description})}else{e.show({content:i.result[0].error_description,confirm:"OK",type:"alert"})}}else{if(typeof t==="function"){t(i)}else{if(top.window!==window){window.location.reload()}else{BX.onCustomEvent("BX.Landing.Filter:apply")}}}}}.bind(this)})}}})();
/* End */
;; /* /bitrix/components/bitrix/landing.start/templates/.default/script.min.js?16566380791370*/
; /* /bitrix/components/bitrix/landing.demo/templates/.default/script.min.js?16566380792526*/
; /* /bitrix/components/bitrix/landing.sites/templates/.default/script.min.js?16566380793615*/

//# sourceMappingURL=template_4792c234c17f10cb77a5400193349551.map.js